# AuthManager class

Provides an API to register and login users, handle forgot password and reset password requests, and validate auth tokens.

```csharp
public class AuthManager
```

## Public Members

| name | description |
| --- | --- |
| [AuthManager](AuthManager/AuthManager.md)(…) |  |
| [Authenticate](AuthManager/Authenticate.md)(…) | Validates the auth token id returning an [`AuthToken`](AuthToken.md) instance |
| [CreateAnonymousUser](AuthManager/CreateAnonymousUser.md)() | Creates an anonymous user and returns a valid [`AuthToken`](AuthToken.md) |
| [CreateAuthTokenAsync](AuthManager/CreateAuthTokenAsync.md)(…) | Create an auth token |
| [ForgotPasswordAsync](AuthManager/ForgotPasswordAsync.md)(…) | Creates a reset code and invokes onForgotPassword to send the reset code to the user |
| [LoginAsync](AuthManager/LoginAsync.md)(…) | Logs in the user creating a valid [`AuthToken`](AuthToken.md) |
| [LookupUsername](AuthManager/LookupUsername.md)(…) |  |
| [RegisterAsync](AuthManager/RegisterAsync.md)(…) | Registers a new user |
| [ResetPasswordAsync](AuthManager/ResetPasswordAsync.md)(…) | Resets the user's password if a valid reset code is included |
| [SetupWebApi](AuthManager/SetupWebApi.md)(…) | Call to setup a Web API with the specified *webApiServer* with the following URLs... GET /api/auth/check-username/{username} GET /api/auth/check-auth-token/{id} POST /api/auth/create-anonymous POST /api/auth/register POST /api/auth/login POST /api/auth/forgot-password POST /api/auth/reset-password POST /api/auth/verify-email POST /api/auth/verify-phone |
| [Verify](AuthManager/Verify.md)(…) | Call to verify a user's email or phone |

## Remarks

Can be initialized like this...

```csharp
var database = (initialize an IDatabase instance here)
var notifyManager = (initialize NotifyManager here)
var welcomeEmailNotifyMessage = (load welcome email here)
var resetEmailNotifyMessage = (load welcome email here)
var authManager = new AuthManager(
    database,
    defaultRole: "full-access",
    onEmailVerify: notifyManager.VerifyAsync,
    onPhoneVerify: notifyManager.VerifyAsync,
    onRegister: user => {
        notifyManager.Queue(welcomeEmailNotifyMessage.Evaluate(user));
    },
    onForgotPassword: user => {
        notifyManager.Queue(resetEmailNotifyMessage.Evaluate(user));
    }
);
```

## See Also

* namespace [Butterfly.Auth](../Butterfly.Auth.md)

<!-- DO NOT EDIT: generated by xmldocmd for Butterfly.Auth.dll -->
